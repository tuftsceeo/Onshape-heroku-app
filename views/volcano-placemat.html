<!DOCTYPE html>

<head>
  <script src="javascripts/jquery-1.8.3.min.js"></script>
  <script src="javascripts/bootstrap.min.js"></script>
  <script src="javascripts/threejs/three.min.js"></script>

  <script src="javascripts/threejs/js/loaders/STLLoader.js"></script>
  <script src="javascripts/threejs/js/wip/TypedGeometry.js"></script>
  <script src="javascripts/threejs/js/Detector.js"></script>
  <script src="javascripts/threejs/js/libs/stats.min.js"></script>
  <script src="javascripts/threejs/js/controls/TrackballControls.js"></script>

  <script src="javascripts/volcano-placemat.js"></script>

  <link href="stylesheets/style.css" rel="stylesheet">
  <link href="stylesheets/hamburger.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <!-- heading container for menu button and app name -->
    <div class="top">
      <!-- menu button -->
      <button class="hamburger hamburger--spin" type="button">
        <!-- transition for menu button -->
        <span class="hamburger-box">
          <span class="hamburger-inner"></span>
        </span>
      </button>  
      <!-- these are the pages in the menu bar -->
      <div id="popUpNav" class="overlay" onclick="closeNav()">
        <div class="overlay-content">
          <a href="/" target="_self" data-scroll onclick="closeNav()">Home</a>
          <hr class="small">
          <a href="/tools" target="_self" data-scroll onclick="closeNav()">Tools</a>
          <hr class="small">
          <a href="/activities" target="_self" data-scroll onclick="closeNav()">Activities</a>
          <hr class="small">
          <a href="/resources-page" target="_self" data-scroll onclick="closeNav()">Resources</a>
        </div>
      </div>
      <h2 class="header-text"> Onshape- </h2> 
    </div>
    
    <div class="mid">
      <div class="contents-top">
        <div class="text-description-center">
          <h3>Challenge Statement</h3>
          <p class="normal">Use Onshape to create a volcano!</p>
        </div>
        <div class="contents-example">
          <h4>Example(s):</h4>
          <div class="image-sneakpeek2">
            <div class="sneakpeek-container">
              <img src="images/volcano-matt.gif" alt="Matt's volcano" class="challenge-examples">
              <div class="feature-name"><a href="https://rogers.onshape.com/documents/c048a786af2611b4f3aeb1ce/w/df8a8876e562860c19783504/e/e2395bced8a8bc80dc40d93f">Matthew's Volcano</a></div>
            </div>
            <div class="sneakpeek-container">
              <img src="images/volcano-jason.gif" alt="Jason's volcano" class="challenge-examples">
              <div class="feature-name"><a href="https://cad.onshape.com/documents/6ccf91697755063d9091a432/w/ca1e15d9db451dbbdeb5e757/e/d37a1a25c108856cc172ebee">Jason's Volcano</a></div>
            </div>
            <div class="sneakpeek-container">
              <img src="images/volcano-aaron.gif" alt="Aaron's volcano" class="challenge-examples">
              <div class="feature-name"><a href="https://cad.onshape.com/documents/18c5d2814b0e62f20e0f7840/w/cd115558697848d664629a0d/e/9e90fb160632ae530a676c76">Aaron's Volcano</a></div>
            </div>
            <div class="sneakpeek-container">
              <img src="images/volcano-milan.gif" alt="Milan's volcano" class="challenge-examples">
              <div class="feature-name"><a href="https://rogers.onshape.com/documents/cf47e3780e1ee9dec5d6f44c/w/3ce12327d25bd3c4d6b05bbc/e/11b785e0c90db8b0f1c53441">Milan's Volcano</a></div>
            </div>
          </div>
        </div>
      </div>

      <hr class="divider">

      <div class="contents-top">
        <div class="text-description-center">
          <h3> You try! </h3>
          <p class="normal">Some useful tools for this project can include SPLINE, PLANE, SHELL, LOFT, FILLET, and EXTRUDE, and any other tools you think can do the trick!</p>
        </div>
      </div>

      <div class="contents">
        <div class="tools-container">
          <h4>Initial Tool bar</h4>
          <p class="normal2">Tool bar outside of a sketch</p>
        </div>
        <div class="tools-container">
          <img src="images/volcano-tools.png" alt="volcano-tools1">
        </div>
      </div>
      <div class="contents">
        <div class="tools-container">
          <h4>Sketch Tool bar</h4>
          <p class="normal2">Tool bar once inside a sketch</p>
        </div>
        <div class="tools-container">
          <img src="images/volcano-tools2.png" alt="volcano-tools2">
        </div>
      </div>

      <hr class="divider">

      <div class="text-description-panel">
        <button class="accordion"><h3>Click here for some hints:</h3></button>
        <div class="panel">
          <p class="normal2">ONSHAPE TIP: In order to use the "loft" tool to create your volcano, you must create an offset plane. To do so, select the plane tool in the toolbar. Click on the existing plane you want your new plane to be parallel to. Next, set the offset distance to your desired volcano height.</p>
          <p class="normal2">Create a sketch with the spline on the new offset plane, directly over your first sketch on the top plane. Now, your volcano has a top and a bottom.</p>
          <p class="normal2">Next, finish the sketch and select "loft." Select the two sketch faces.</p>
          <p class="normal2">More hints: The lava on the side of the volcano is best created in a new plane (offset from the front plane). Once you have the desired size and shape for your lava, copy the sketch by right-clicking on the sketch in the "Features" list and clicking "copy sketch." Then, create a new part studio and paste it into a new sketch, and delete the lava sketch from the first part studio. Extrude the sketch to make it 3D, and use the fillet tool to create your desired shape.</p>
          <p class="normal2">The fillet is used to create a curved edge on the edge of an extrusion instead of a sharp corner. Use it to round out the edges of the volcano's opening once you use the shell tool to hollow out the volcano. You should also use "fillet" on the lava to round out the edges so that it looks similar to real lava.</p>
          <p class="normal2">Change the colors of both parts by right clicking on each and selecting "edit appearance."</p>
        </div>
      </div>

      <script>
        // allows users to click on hints and get a dropdown
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function() {
                // Toggle between adding and removing the "active" class, to highlight the button that controls the panel 
                this.classList.toggle("active");

                // Toggle between hiding and showing the active panel 
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }
      </script>

      <hr class="divider"> 

      <div class="contents-top">
        <div class="text-description-center">
          <h3>See some solutions!</h3><br/>
          <p class="normal">Follow this button to learn how others did it!</p>
        </div>
        <br/>
        <a href="/volcano" class="hvr-grow" target="_self"><button type="button" class="btn-home">Approaches</button></a><br/>
      </div>

      <hr class="divider">

      <iframe name="dummy" id="dummy" style="display: none;"></iframe>
      <div id="feedback-form">
        <div class="form-container">
          <h3 class="title-white">Tell us how you solved this challenge!</h3>
          <form id="feedback" target="dummy" name="google-sheets">
            <hr>
            <div class="text-input">
              <label for="approach">What steps did you take?</label>
              <input type="text" placeholder="..." id="approach" name="approach">
            </div> 
            
            <div class="text-input">
              <label for="easy">What was easy?</label>
              <input type="text" placeholder="..." id="easy" name="easy">
            </div>
            
            <div class="text-input">
              <label for="hard">What was hard?</label>
              <input type="text" placeholder="..." id="hard" name="hard">
            </div> 

            <div class="text-input">
              <label for="comment">Any additional comments?</label>
              <input type="text" placeholder="..." id="comment" name="comment">
            </div>
            <hr>

            <input type="submit" class="submitbtn" value="Submit">
          </form>
        </div>
      </div>

      <div id="form-closed">
        <h3 class="title-white"> Thanks for sharing! </h3>
      </div>

    </div>
    <div class="footer">
    </div>
  </div>
  <script>
    // feedback form
    $('#feedback').submit(function () {
      formPost();
      return false;
    });
    // records responses and stores them in Google Sheets
    function formPost() { 
      let url = "https://script.google.com/macros/s/AKfycbxtMOQmGMRpPcJ1TQ8k_S_v6VbGM5BcQF7IXcKMUKOdmTIoEXrr/exec";
      let method = "POST";
      let headers = {"Content-Type": "multipart/form-data"}
      let elements = document.getElementById("feedback").elements;
      let body = {};
      const formData = new FormData();
      for (var i = 0, element; element = elements[i++];) {
          if (element.type === "text"){
            let name = element.name;
            body[name] = element.value;
            formData.append(name, element.value);
          }
      }
      console.log(body);
      console.log(formData);

      fetch(url, {method: method, body: formData}).then(res => console.log(res));

      formSubmitClose();
    }

    // close form upon submission
    function formSubmitClose() { 
      var form = document.getElementById("feedback-form");
      document.getElementById("feedback-form").style.animation = "fadeOut .2s forwards";
      document.getElementById("feedback-form").style.display = "none";
      document.getElementById("form-closed").style.display = "flex";
    }

    // open navigation menu bar
    function openNav() {
      hamburger.classList.add("is-active");
      document.getElementById("popUpNav").style.display = "block";
    }
  
    // close navigation menu bar
    function closeNav() {
      hamburger.classList.remove("is-active");
      document.getElementById("popUpNav").style.display = "none";
    }
  
    // Hamburger Menu Spin
    var hamburger = document.querySelector(".hamburger");
    hamburger.addEventListener('click', () => hamburger.classList.contains('is-active') ? closeNav() : openNav());
  
    closeNav();
  </script> 
</body>
</html>