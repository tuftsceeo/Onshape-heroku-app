<!DOCTYPE html>

<head>
  <script src="javascripts/jquery-1.8.3.min.js"></script>
  <script src="javascripts/bootstrap.min.js"></script>
  <script src="javascripts/threejs/three.min.js"></script>

  <script src="javascripts/threejs/js/loaders/STLLoader.js"></script>
  <script src="javascripts/threejs/js/wip/TypedGeometry.js"></script>
  <script src="javascripts/threejs/js/Detector.js"></script>
  <script src="javascripts/threejs/js/libs/stats.min.js"></script>
  <script src="javascripts/threejs/js/controls/TrackballControls.js"></script>

  <script src="javascripts/cube-hole-placemat.js"></script>

  <link href="stylesheets/style.css" rel="stylesheet">
  <link href="stylesheets/hamburger.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <!-- heading container for menu button and app name -->
    <div class="top">
      <!-- menu button -->
      <button class="hamburger hamburger--spin" type="button">
        <!-- transition for menu button -->
        <span class="hamburger-box">
          <span class="hamburger-inner"></span>
        </span>
      </button>  
      <!-- these are the pages in the menu bar -->
      <div id="popUpNav" class="overlay" onclick="closeNav()">
        <div class="overlay-content">
          <a href="/" target="_self" data-scroll onclick="closeNav()">Home</a>
          <hr class="small">
          <a href="/tools" target="_self" data-scroll onclick="closeNav()">Tools</a>
          <hr class="small">
          <a href="/activities" target="_self" data-scroll onclick="closeNav()">Activities</a>
          <hr class="small">
          <a href="/resources-page" target="_self" data-scroll onclick="closeNav()">Resources</a>
        </div>
      </div>
      <h2 class="header-text"> Onshape- </h2> 
    </div>

    <div class="mid">
      <div class="contents-top">
        <div class="text-description-center">
          <h3>Challenge Statement</h3>
          <p class="normal">Use Onshape to create a cube with a hole!</p>
        </div>
        <div class="contents-example">
          <h4>Example(s):</h4>
          <div class="image-sneakpeek2">
            <div class="sneakpeek-container">
              <img src="images/cube-hole-matt.gif" alt="Matt's cube" class="challenge-examples">
              <div class="feature-name"><a href="https://rogers.onshape.com/documents/6a765131123f33f682fcc4a7/w/78d6e8005370a970f1ac5883/e/b8cd8a2e16a27d69011c375d">Matthew's Cube</a></div>
            </div>
            <div class="sneakpeek-container">
              <img src="images/cube-hole-jason.gif" alt="Jason's cube" class="challenge-examples">
              <div class="feature-name"><a href="https://cad.onshape.com/documents/6ccf91697755063d9091a432/w/ca1e15d9db451dbbdeb5e757/e/1abc9dd0670c114f82712c75">Jason's Cube</a></div>
            </div>
            <div class="sneakpeek-container">
              <img src="images/cube-hole-aaron.gif" alt="Aaron's cube" class="challenge-examples">
              <div class="feature-name"><a href="https://cad.onshape.com/documents/18c5d2814b0e62f20e0f7840/w/cd115558697848d664629a0d/e/c5587beb29360110fa413530">Aaron's Cube</a></div>
            </div>
            <div class="sneakpeek-container">
              <img src="images/cube-hole-milan.gif" alt="Milan's cube" class="challenge-examples">
              <div class="feature-name"><a href="https://rogers.onshape.com/documents/cf47e3780e1ee9dec5d6f44c/w/3ce12327d25bd3c4d6b05bbc/e/b56fb74d7c00cb7f95099d93">Milan's Cube</a></div>
            </div>
          </div>
        </div>
      </div>

      <hr class="divider">

      <div class="contents-top">
        <div class="text-description-center">
          <h3> You try! </h3>
          <p class="normal">Some useful tools for this project can include RECTANGLE, CIRCLE, EXTRUDE ADD/REMOVE, LINE, SWEEP, and any other tools that you think might do the trick!</p>
        </div>
      </div>

      <div class="contents">
        <div class="tools-container">
          <h4>Initial Tool bar</h4>
          <p class="normal2">Tool bar outside of a sketch</p>
        </div>
        <div class="tools-container">
          <img src="images/cube-tools.png" alt="cube-tools1">
        </div>
      </div>
      <div class="contents">
        <div class="tools-container">
          <h4>Sketch Tool bar</h4>
          <p class="normal2">Tool bar once inside a sketch</p>
        </div>
        <div class="tools-container">
          <img src="images/cube-tools2.png" alt="cube-tools2">
        </div>
      </div>

      <hr class="divider">

      <div class="text-description-panel">
        <button class="accordion"><h3>Click here for some hints:</h3></button>
        <div class="panel">
          <p class="normal2">Perhaps start off by creating the cube. Then proceed to create a circular hole through one of the sides of the cube.</p>
        </div>
      </div>

      <script>
        // allows users to click for hints and get a dropdown
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function() {
                // Toggle between adding and removing the "active" class, to highlight the button that controls the panel
                this.classList.toggle("active");

                // Toggle between hiding and showing the active panel
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }
      </script>

      <hr class="divider">

      <div class="contents-top">
        <div class="text-description-center">
          <h3>See some solutions!</h3><br/>
          <p class="normal">Follow this button to learn how others did it!</p>
        </div>
        <br/>
        <a href="/cube-hole" class="hvr-grow" target="_self"><button type="button" class="btn-home">Approaches</button></a><br/>
      </div>

      <hr class="divider">

      <!-- feedback form -->
      <iframe name="dummy" id="dummy" style="display: none;"></iframe>
      <div id="feedback-form">
        <div class="form-container">
          <h3 class="title-white">Tell us how you solved the challenge!</h3>
          <form id="feedback" target="dummy" name="google-sheets">
            <hr>
            <div class="text-input">
              <label for="approach">What steps did you take?</label>
              <input type="text" placeholder="..." id="approach" name="approach">
            </div> 
            
            <div class="text-input">
              <label for="easy">What was easy?</label>
              <input type="text" placeholder="..." id="easy" name="easy">
            </div>
            
            <div class="text-input">
              <label for="hard">What was hard?</label>
              <input type="text" placeholder="..." id="hard" name="hard">
            </div> 

            <div class="text-input">
              <label for="comment">Any additional comments?</label>
              <input type="text" placeholder="..." id="comment" name="comment">
            </div>
            <hr>

            <input type="submit" class="submitbtn" value="Submit">
          </form>
        </div>
      </div>

      <div id="form-closed">
        <h3 class="title-white"> Thanks for sharing! </h3>
      </div>

    </div>
    <div class="footer">
    </div>
  </div>
  <script>
    // Feedback form submit function
    $('#feedback').submit(function () {
      formPost();
      return false;
    });
    // posting form data to Google Sheets script
    function formPost() { 
      let url = "https://script.google.com/macros/s/AKfycbxtMOQmGMRpPcJ1TQ8k_S_v6VbGM5BcQF7IXcKMUKOdmTIoEXrr/exec";
      let method = "POST";
      let headers = {"Content-Type": "multipart/form-data"}
      let elements = document.getElementById("feedback").elements;
      
      let body = {};
      const formData = new FormData();
      for (var i = 0, element; element = elements[i++];) {
          if (element.type === "text"){
            let name = element.name;
            body[name] = element.value;
            formData.append(name, element.value);
          }
      }
      console.log(body);
      console.log(formData);

      fetch(url, {method: method, body: formData}).then(res => console.log(res));

      formSubmitClose();
    }

    // closing the form after submission 
    function formSubmitClose() { 
      var form = document.getElementById("feedback-form");
      document.getElementById("feedback-form").style.animation = "fadeOut .2s forwards";
      document.getElementById("feedback-form").style.display = "none";
      document.getElementById("form-closed").style.display = "flex";
    }

    // open navigation menu bar
    function openNav() {
      hamburger.classList.add("is-active");
      document.getElementById("popUpNav").style.display = "block";
    }

    // close navigation menu bar
    function closeNav() {
      hamburger.classList.remove("is-active");
      document.getElementById("popUpNav").style.display = "none";
    }
  
    // Hamburger Menu Spin
    var hamburger = document.querySelector(".hamburger");
    hamburger.addEventListener('click', () => hamburger.classList.contains('is-active') ? closeNav() : openNav());
  
    closeNav();
  </script> 
</body>
</html>